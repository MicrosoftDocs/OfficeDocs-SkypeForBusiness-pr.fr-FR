### YamlMime:Tutorial
title: Créer une équipe à l’échelle de l'entreprise dans Microsoft Teams avec PowerShell
metadata:
  title: Créer une équipe à l’échelle de l'entreprise dans Microsoft Teams avec PowerShell
  description: Pour les administrateurs informatiques qui utilisent PowerShell pour créer une équipe à l’échelle de l’entreprise
  audience: IT Pro
  level: Intermediate
  displayType: one-column
  ms.author: lehewe
  manager: serdars
  ms.date: 02/07/2018
  ms.service: msteams
  ms.topic: tutorial
  appliesto: Microsoft Teams
  localization_priority: Normal
  search.appverid: MET150
  ms.collection: Teams_ITAdmin_PracticalGuidance
  ms.openlocfilehash: e55ff5788778fa1e253410c691d8b6992c0a1d61
  ms.sourcegitcommit: 9acf2f80cbd55ba2ff6aab034757cc053287485f
  ms.translationtype: MT
  ms.contentlocale: fr-FR
  ms.lasthandoff: 09/25/2018
  ms.locfileid: "25017174"
items:
- durationInMinutes: 3
  content: "\nCette formation fournit un script PowerShell qui crée une équipe publique à l’échelle de l’entreprise dans Teams. Ce script utilise le module PowerShell MicrosoftTeams (actuellement en version bêta) pour créer une équipe publique à l’échelle de l’entreprise. Il utilise également le module PowerShell AzureAD pour récupérer la liste des utilisateurs de votre client. \n\nIl s’agit d’un bon point de départ si vous souhaitez tester des commandes PowerShell simples et vous familiariser avec cet outil d’entreprise puissant. PowerShell est un composant clé dans la gestion des autres aspects des groupes AzureAd, notamment le contrôle de la création de groupes, c’est-à-dire comment gérer les utilisateurs autorisés à créer une équipe dans Teams. \n\n### <a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/powershell-script-sample-create-company-wide-team\" target=\"_blank\">:arrow_down : Obtenir le script PowerShell</a>\n\n> [!IMPORTANT]\n> Ce script PowerShell n’ajoute que les 2500 premiers membres à une équipe. 2500 est la limite de taille actuelle d'une équipe. \n\n\nCette formation est destinée aux administrateurs informatiques ou aux utilisateurs de Teams qui souhaitent automatiser la création des équipes. Vous apprendrez comment :  \n- Installer les modules appropriés dans PowerShell\n- Utiliser le script \n\nNous n’aborderons pas les aspects suivants :\n1. Présentation détaillée de PowerShell. Nous inclurons uniquement les informations PowerShell dont vous avez besoin pour être prêt à utiliser le script PowerShell. Pour en savoir plus, commencez par la rubrique <a href=\"https://docs.microsoft.com/powershell/scripting/getting-started/getting-started-with-windows-powershell?view=powershell-5.1\" target=\"_blank\">Présentation de Windows PowerShell</a>\n2. Les fonctionnalités du module <a href=\"https://docs.microsoft.com/powershell/azure/active-directory/overview?view=azureadps-2.0\" target=\"_blank\">AzureAD</a>. Ce script PowerShell utilise le module AzureAD pour qu'une commande unique récupère les utilisateurs du client. \n3. Les applets de commande dans le module <a href=\"https://github.com/MicrosoftDocs/office-docs-powershell/tree/master/teams/teams-ps/teams\" target=\"_blank\">MicrosoftTeams</a>. \n4. Une présentation ligne par ligne du script PowerShell. \n\n\nPour poser des questions ou envoyer des commentaires sur cette formation :\n  - Publiez vos commentaires dans la section située en bas de la page [Étapes suivantes](company-wide-team-creation-powershell.yml#step-7) de ce didacticiel.\n  - Vous rendre sur <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">UserVoice</a> pour nous faire part de vos commentaires sur le produit, tels que des demandes de fonctionnalité\n"
- title: Configuration minimale requise
  durationInMinutes: 2
  content: "\n### <a name=\"user-requirements\"></a>Droits d’accès requis pour l’utilisateur\n\nVous devez disposer des autorisations d’administrateur sur votre ordinateur, afin de pouvoir exécuter les applications en tant qu’administrateur. \n\n### <a name=\"system-requirements\"></a>Configuration système requise\nLes modules que nous utilisons dans ce script requièrent les systèmes d’exploitation suivants :\n\n- Windows 10\n- Windows 8.1 Professionnel\n- Windows 8.1 Entreprise\n- Windows 7 SP1\n- Windows Server 2016\n- Windows Server 2012 R2\n- Windows Server 2008 R2 SP1\n\nLes modules requièrent également NET Framework 4.5 ou version ultérieure. <a href=\"https://msdn.microsoft.com/library/5a4x27ek.aspx\" target=\"_blank\">Installez .NET Framework pour les développeurs</a>.\n"
- title: Prise en main
  durationInMinutes: 10
  content: "\n\nPour commencer, vous avez besoin des éléments suivants :\n1. Une version d’évaluation d’<a href=\"https://products.office.com/business/office-365-enterprise-e3-business-software\" target=\"_blank\">Office 365 Entreprise E3</a>. Nous vous recommandons de tester et d’apprendre dans un client de test avant de commencer à travailler dans votre client réel. Ajoutez des utilisateurs de test à votre client (5 au minimum) pour vous aider à essayer le script. \n\n2. Lancez PowerShell avec des privilèges d’administrateur. Voici la procédure sous Windows 10 :\n \n  a. Cliquez sur **Démarrer**.\n \n  b. Entrez **Windows PowerShell**.\n \n  c. Cliquez avec le bouton droit et sélectionnez **Exécuter en tant qu’administrateur**.\n\n3. <a href=\"https://docs.microsoft.com/azure/active-directory/active-directory-accessmanagement-groups-settings-v2-cmdlets#install-the-azure-ad-powershell-module\" target=\"_blank\">Installez le module PowerShell AzureAD</a>. \n  \n  > [!NOTE]\n  > Lors de l’exécution de ces étapes, vous pouvez être invité à mettre à jour votre fournisseur NuGet par la commande PowerShellGet. Si vous y êtes invité, sélectionnez **Oui** pour « Voulez-vous que PowerShellGet installe et importe le fournisseur NuGet maintenant ? » Vous pouvez également être invité à répondre à la question concernant un référentiel non approuvé « Voulez-vous vraiment installer les modules à partir de ‘PSGallery ? ». Sélectionnez **Oui** ici également. \n\n4. Installez le module PowerShell MicrosoftTeams. Si vous avez satisfait à toutes les conditions pour installer le module AzureAD, l'installation du module MicrosoftTeams sera rapide (ils partagent le même ensemble de conditions). Pour installer le module MicrosoftTeams, exécutez la commande suivante : \n\n          Install-Module MicrosoftTeams\n\n  > [!NOTE]\n  > Vous pouvez être invité à nouveau à répondre à la question concernant le référentiel non approuvé. \n\n5. <a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/PowerShell-script-sample-create-company-wide-team.md\" target=\"_blank\">Obtenir le script PowerShell</a>\n"
- title: Guide pour les paramètres
  durationInMinutes: 2
  content: "\nTous les paramètres sont définis comme étant facultatifs, mais le script ne s’exécutera pas si aucun d’entre eux n’est défini. Pour créer et mettre à jour votre équipe à l’échelle de l’entreprise, vous utiliserez une combinaison de paramètres. Pour vous aider à exécuter le script selon votre scénario, nous vous présenterons des exemples dans une section ultérieure. \n\n|Paramètre| Description |\n| ---  | ---  |\n|Owners | Spécifiez au moins deux membres propriétaires (vous pouvez être l’un des deux mais le script requiert au moins deux propriétaires). Nous vous recommandons de définir davantage de propriétaires, particulièrement pour une équipe à l’échelle du client. |\n|TeamName | Indiquez le nom de l’équipe si vous avez l’intention de créer une nouvelle équipe. S’il n’est pas spécifié, vous devez spécifier l’ID de groupe d'une équipe existante. |\n|TeamDescription | Il s’agit de la description de l’équipe que vous créez. Ce paramètre ne mettra pas à jour la description d’une équipe existante. |\n|Canaux | Liste des canaux que vous souhaitez créer. Ce script requiert au moins deux canaux (si vous utilisez ce paramètre). Lors de l’exécution du script, la description de chaque canal vous sera demandée. |\n|GroupId | Spécifiez l’ID de groupe si vous souhaitez transformer une équipe existante en équipe à l’échelle de l’entreprise en ajoutant des membres supplémentaires. Si vous spécifiez ce paramètre, il n’est pas créé de nouvelle équipe. |\n|Members | Si vous ne souhaitez pas que tous les utilisateurs soient ajoutés, vous pouvez spécifier une liste de membres. La liste doit comporter 2 membres au minimum. |\n"
- title: Exécuter le script
  durationInMinutes: 5
  content: "\nLe script fourni est un script non signé Pour plus d’informations, reportez-vous à la rubrique <a href=\"https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-5.1&viewFallbackFrom=powershell-Microsoft.PowerShell.Core\" target=\"_blank\">À propos des stratégies d’exécution</a>. Avant de modifier la stratégie d’exécution, récupérez la stratégie actuelle en exécutant la commande suivante :\n\n        Get-ExecutionPolicy\n\nNotez le niveau de cette stratégie. Vous lui attribuerez à nouveau ce niveau lorsque vous aurez terminé d’exécuter le script pour créer votre équipe à l’échelle de l’entreprise. Pour remplacer le niveau de la stratégie par le niveau RemoteSigned, exécutez la commande suivante :\n\n        Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\n\nLe script vous permet d’effectuer les opérations suivantes : \n1. Créer une équipe avec tous les membres de votre client (2500 membres au maximum).\n\n          .\\CreateCompanyWideTeam.ps1 -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\" -TeamName \"Contoso Team\" -TeamDescription \"Tenant wide team to get everyone into one place. Use this team to share announcements, hold townhalls, or just encourage a more open work environment for everyone\" -Channels \"Announcements\", \"Townhalls\"\n\n2. Ajouter tous les membres de votre client à une équipe existante (2500 membres au maximum).\n    \n          .\\CreateCompanyWideTeam.ps1 -GroupID \"45f7b85e-149b-4ae4-bf43-9cedf9415e34\"\n\n3. Ajouter un ensemble de membres spécifié à une équipe nouvelle ou existante.\n    \n          .\\CreateCompanyWideTeam.ps1 -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\" -TeamName \"Project Scorpio\" -TeamDescription \"Wanted to reserve a cool project name, now we need a project\" -Channels \"Code Reviews\", \"Engineering Alerts\" -Members \"BMcMillan@Contoso.onmicrosoft.com\", \"DTodd@Contoso.onmicrosoft.com\", \"DMills@Contoso.onmicrosoft.com\"\n"
- title: Exemple d’équipe à l’échelle de l’entreprise
  durationInMinutes: 6
  content: "\nLe tableau suivant vous montre comment configurer une équipe pour une entreprise commerciale. Il inclut des canaux, onglets, connecteurs et bots suggérés. Nous vous recommandons, au moins au départ, de créer quelques canaux. S’il s’agit de la première équipe comprenant de nombreuses personnes, cela leur permettra de comprendre quels types de canaux elles doivent créer. Intégrer des données dans certains de ces canaux initiaux permettra également aux nouveaux utilisateurs de se familiariser avec le produit et de comprendre son style de fonctionnement. Pour le moment, vous ne pouvez pas ajouter de données aux canaux à l’aide de PowerShell. Vous devrez donc effectuer cette partie manuellement. \n\n> [!Tip]\n> Téléchargez notre <a href=\"https://www.microsoft.com/download/confirmation.aspx?id=56505\" target=\"_blank\">Kit de prise en main de Microsoft Teams</a>. Ce guide inclut « les 10 premières choses à faire dans Teams ». Vous trouverez des conseils pour tirer le meilleur parti de Teams pour les différentes fonctions de votre organisation, comme le marketing, les ventes, la finance, les ressources humaines, les technologies de l'information, l'ingénierie et la gestion de projets.\n\n#### <a name=\"trophy-best-practices\"></a>trophée : meilleures pratiques\n- Ne créez pas tous les canaux auxquels vous pensez à ce stade, juste le nombre suffisant pour une mise en route. Continuez à créer des canaux lorsque de nouveaux domaines apparaissent.\n- Ne renommez pas les canaux, car la structure du dossier SharePoint sous-jacent ne s’alignera pas sur le nom du canal. \n\n \n  > [!NOTE]\n  > Vous ne pouvez pas recréer des canaux supprimés avec le même nom, mais vous pouvez toujours accéder aux fichiers SharePoint.\n\n\nLe tableau ci-dessous présente un exemple d’équipe avec des onglets, connecteurs et bots suggérés. Il ne s’agit pas d'une liste complète, mais elle est suffisante pour vous donner une idée des types de canaux qui peuvent être utiles pour votre entreprise. \n|Canal|Onglets et ressources|\n|-------|----------------|\n|Général|<ul><li>Guide d'intégration</li><li>Informations sur les rôles</li><li>Vidéos de formation</li></ul>|\n|Plans de compte|<ul><li>OneNote pour les comptes stratégiques</li><li>Dossiers des plans de compte</li></ul>|\n|Prévisions|<ul><li>Tableaux de bord Power BI</li><li>Applications métier</li><li>Calendrier de vérification et tâches</li></ul>|\n|Aide requise|<ul><li>Conversations sur l’aide requise</li><li>Formulaire de vérification des transactions</li></ul>|\n|Marketing régional|<ul><li>Calendrier du marketing</li><li>Guide pour les clients</li></ul>|\n|Mises à jour de produits et commentaires|<ul><li>Guides des tarifs</li><li>Brochures de produits</li><li>Liens de référence</li></ul>|\nTravail en équipe chez Contoso|<ul><li>Kit de ressources pour Teams (*en cours de création - consulter à nouveau ultérieurement*)</li><li>Articles pratiques (guide de démarrage rapide de votre organisation par exemple)</li></ul>|\n|Discussion sur fontaine à eau|<ul><li>Rubriques sur la création d’équipe</li><li>Événements sociaux</li></ul>|\n\nRegardez notre vidéo, Conseil technique : guide pour la configuration des équipes, des canaux et des onglets (4 minutes), pour connaître les meilleures pratiques pour configurer vos équipes, canaux et onglets pour une productivité maximale.\n> [!VIDEO https://www.youtube.com/embed/hjJWtoaRJeE]\n"
- title: Aperçu du script
  durationInMinutes: 2
  content: "\nCe script comporte 5 sections (répertoriées dans l’ordre, de haut en bas) :\n1. **Documentation et définitions des variables**\n2. **Fonction Create-Team** : crée une équipe si nécessaire. Si vous ne spécifiez pas d’ID de groupe, cette section créera l’équipe avec le nom et le description spécifiés.\n3. **Fonction Add-Channels** : si vous avez spécifié des canaux, c’est ici que la description est demandée et que le canal est ensuite créé. \n4. **Fonction Add-Members** : effectue toute la gestion des membres. Cette section se connecte à AzureAD, récupère un ensemble d’utilisateurs puis les ajoute à l’équipe si vous ne fournissez de liste des membres. Elle gère la logique d’ajout des propriétaires et des membres, et n’ajoute pas les membres qui font déjà partie de l’équipe. \n5. **Main program** : ordre dans lequel les fonctions sont exécutées. \n"
- title: Appel à l’action
  durationInMinutes: 5
  content: "\n### <a name=\"next-steps\"></a>Étapes suivantes\n\n1. Planifiez votre équipe à l’échelle de l’entreprise si vous ne disposez pas déjà d'une équipe pouvant remplir ce rôle. Réfléchissez au nom, à la description, aux propriétaires requis et aux canaux initiaux utiles. \n\n2. Testez le script en utilisant vos paramètres dans votre client de test. Ajoutez des exemples de contenu et assurez-vous que tout semble correct. \n\n3. Exécutez le script pour créer l’équipe dans votre client. Vous pouvez aussi créer l’équipe manuellement par le biais de l’interface utilisateur de Teams, inclure les données (canaux, bots, applications, connecteurs), puis utiliser le script pour ajouter uniquement tous les propriétaires et membres. Pour afficher la liste des équipes que vous avez créées et leurs ID de groupe, utilisez :\n\n        Connect-MicrosoftTeams\n        Get-Team\n\n    Utilisez ensuite cet ID de groupe et exécutez le script en spécifiant des propriétaires supplémentaires :\n\n        .\\CreateCompanyWideTeam.ps1 -GroupID \"45f7b85e-149b-4ae4-bf43-9cedf9415e34\" -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\"\n\n    À présent, lorsque les utilisateurs accèdent à l’équipe, ils ont déjà une idée des autres contenus qu’ils peuvent épingler, connecter ou dont ils peuvent discuter. \n\n5.  Nous faire part de vos commentaires\n    - Faites-nous part de vos commentaires, ou posez-nous des questions sur cette formation dans la partie **Commentaires** située au bas de cette page.\n    - Pour nous faire part de vos commentaires sur le produit Teams, ou pour demander une nouvelle fonctionnalité, rendez-vous sur <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">Teams UserVoice</a>.\n    \n"
