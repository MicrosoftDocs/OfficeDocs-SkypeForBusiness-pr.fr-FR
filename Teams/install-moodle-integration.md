---
title: Installer l’intégration Moodle avec Microsoft Teams
author: MicrosoftHeidi
ms.author: heidip
manager: serdars
ms.date: 05/01/2019
ms.topic: article
ms.service: msteams
ms.reviewer: ''
search.appverid: MET150
description: Découvrez comment installer et configurer l’application d’intégration Moodle pour Microsoft Teams.
keywords: Plug-in d’équipes Moodle application intégration
localization_priority: Normal
MS.collection: Teams_ITAdmin_Help
appliesto: Microsoft Teams
ms.openlocfilehash: 92259a9ef01232aaeca67089b5d654fe302f1224
ms.sourcegitcommit: 9a99be1365df439f9443f31240aa5311782458df
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/14/2019
ms.locfileid: "34055363"
---
# <a name="install-moodle-integration-with-microsoft-teams"></a><span data-ttu-id="ae819-104">Installer l’intégration Moodle avec Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="ae819-104">Install Moodle integration with Microsoft Teams</span></span>

> [!VIDEO https://www.youtube.com/embed/OHlPt22nKoE]

<span data-ttu-id="ae819-105">[Moodle](https://moodle.org/), la source plus populaires et ouvrir Gestion système (LMS) dans le monde, est désormais intégré à Microsoft Teams !</span><span class="sxs-lookup"><span data-stu-id="ae819-105">[Moodle](https://moodle.org/), the most popular and open source Learning Management System (LMS) in the world, is now integrated with Microsoft Teams!</span></span> <span data-ttu-id="ae819-106">Cette intégration permet aux formateurs et enseignants collaborent autour de cours Moodle, posent des questions sur leurs affectations et les notes et mis à jour avec les notifications--tous au sein des équipes de rester !</span><span class="sxs-lookup"><span data-stu-id="ae819-106">This integration helps educators and teachers collaborate around Moodle courses, ask questions about their grades and assignments, and stay updated with notifications -- all within Teams!</span></span>

<span data-ttu-id="ae819-107">Pour aider les administrateurs informatiques facilement configurer cette intégration, nous avons mis à jour notre open source du plug-in Office 365 Moodle les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="ae819-107">To help IT admins easily set up this integration, we have updated our open source Office 365 Moodle plugin with the following capabilities:</span></span>

- <span data-ttu-id="ae819-108">Enregistrement automatique de votre serveur Moodle avec Azure AD</span><span class="sxs-lookup"><span data-stu-id="ae819-108">Auto-registration of your Moodle server with Azure AD</span></span>
- <span data-ttu-id="ae819-109">Déploiement d’un seul clic de votre robot Moodle Assistant pour Azure</span><span class="sxs-lookup"><span data-stu-id="ae819-109">One-click deployment of your Moodle Assistant bot to Azure</span></span>
- <span data-ttu-id="ae819-110">Mise en service automatique des équipes et la synchronisation automatique d’inscriptions de l’équipe pour tous les ou sélectionnez Moodle cours</span><span class="sxs-lookup"><span data-stu-id="ae819-110">Auto-provisioning of teams and auto-synchronization of team enrollments for all or select Moodle courses</span></span>
- <span data-ttu-id="ae819-111">Installation automatique de l’onglet Moodle et le composant WebBot Moodle Assistant dans chaque équipe synchronisé (bientôt disponible)</span><span class="sxs-lookup"><span data-stu-id="ae819-111">Auto-installation of the Moodle tab and the Moodle Assistant bot into each synchronized team (coming soon)</span></span>
- <span data-ttu-id="ae819-112">Publication d’un clic de l’application Moodle dans votre magasin d’applications privé équipes (bientôt disponible)</span><span class="sxs-lookup"><span data-stu-id="ae819-112">One-click publishing of the Moodle app into your private Teams App Store (coming soon)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ae819-113">Conditions requises</span><span class="sxs-lookup"><span data-stu-id="ae819-113">Prerequisites</span></span>

<span data-ttu-id="ae819-114">Pour installer et configurer cette application, que vous devez :</span><span class="sxs-lookup"><span data-stu-id="ae819-114">To install and configure this application you'll need:</span></span>

- <span data-ttu-id="ae819-115">Informations d’identification administrateur Moodle</span><span class="sxs-lookup"><span data-stu-id="ae819-115">Moodle administrator credentials</span></span>
- <span data-ttu-id="ae819-116">Informations d’identification administrateur AD Azure</span><span class="sxs-lookup"><span data-stu-id="ae819-116">Azure AD administrator credentials</span></span>
- <span data-ttu-id="ae819-117">Un abonnement Azure que vous pouvez créer de nouvelles ressources dans</span><span class="sxs-lookup"><span data-stu-id="ae819-117">An Azure subscription that you can create new resources in</span></span>

## <a name="step-1-install-the-office-365-moodle-plugin"></a><span data-ttu-id="ae819-118">Étape 1 : Installer le plug-in Office 365 Moodle</span><span class="sxs-lookup"><span data-stu-id="ae819-118">Step 1: Install the Office 365 Moodle plugin</span></span>

> [!VIDEO https://www.youtube.com/embed/SETEC5nzMgk]

<span data-ttu-id="ae819-119">L’intégration Moodle dans Microsoft Teams a été générée par la [plug-in Office 365 Moodle](https://github.com/Microsoft/o365-moodle)ouvrir la source.</span><span class="sxs-lookup"><span data-stu-id="ae819-119">The Moodle integration in Microsoft Teams is powered by the open source [Office 365 Moodle plugin](https://github.com/Microsoft/o365-moodle).</span></span> <span data-ttu-id="ae819-120">Pour installer le plug-in sur votre serveur Moodle :</span><span class="sxs-lookup"><span data-stu-id="ae819-120">To install the plugin on your Moodle server:</span></span>

1. <span data-ttu-id="ae819-121">Télécharger le [plug-in Office 365 définie](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) et enregistrez-le sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ae819-121">Download the [Office 365 plugin set](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) and save it on your local computer.</span></span> <span data-ttu-id="ae819-122">Vous devez utiliser la version 3.5 ou ultérieure.</span><span class="sxs-lookup"><span data-stu-id="ae819-122">You'll need to use version 3.5 or newer.</span></span>
2. <span data-ttu-id="ae819-123">Se connecter à votre serveur Moodle en tant qu’administrateur, puis sélectionnez **administration du Site** dans le volet de navigation de gauche.</span><span class="sxs-lookup"><span data-stu-id="ae819-123">Sign in to your Moodle server as an administrator, and select **Site administration** from the left navigation pane.</span></span>
3. <span data-ttu-id="ae819-124">Sélectionnez l’onglet **plug-ins** , puis cliquez sur **installer le plug-ins**.</span><span class="sxs-lookup"><span data-stu-id="ae819-124">Select the **Plugins** tab, and then click **Install plugins**.</span></span>
4. <span data-ttu-id="ae819-125">Dans la section **installer le plug-in à partir du fichier ZIP** , cliquez sur le bouton **Choisir un fichier** .</span><span class="sxs-lookup"><span data-stu-id="ae819-125">Under the **Install plugin from ZIP file** section click the **Choose a file** button.</span></span>
5. <span data-ttu-id="ae819-126">Sélectionnez les options de **télécharger un fichier** à partir du volet de navigation de gauche, recherchez le fichier que vous avez téléchargé et cliquez sur **Télécharger le fichier**.</span><span class="sxs-lookup"><span data-stu-id="ae819-126">Select the **Upload a file** options from the left navigation pane, browse to the file you downloaded above, and click **Upload this file**.</span></span>
6. <span data-ttu-id="ae819-127">Sélectionnez l’option de **l’administration de sites** à partir du volet de navigation de gauche à nouveau pour revenir à votre tableau de bord d’administration.</span><span class="sxs-lookup"><span data-stu-id="ae819-127">Select the **Site administration** option from the left navigation pane again to return to your admin dashboard.</span></span> <span data-ttu-id="ae819-128">Faites défiler jusqu'à la **plug-ins Local** , cliquez sur le lien de **L’intégration de Microsoft Office 365** .</span><span class="sxs-lookup"><span data-stu-id="ae819-128">Scroll down to the **Local plugins** and click the **Microsoft Office 365 Integration** link.</span></span> <span data-ttu-id="ae819-129">Laissez cette page de configuration ouvert dans un onglet de navigation distincte : vous utiliserez tout au long de ce processus.</span><span class="sxs-lookup"><span data-stu-id="ae819-129">Keep this configuration page open in a separate browser tab: you'll be using it throughout the rest of this process.</span></span>

<span data-ttu-id="ae819-130">Vous trouverez plus d’informations sur l’installation du plug-ins Moodle dans la [documentation Moodle](https://docs.moodle.org/34/en/Installing_plugins).</span><span class="sxs-lookup"><span data-stu-id="ae819-130">You can find more information on how to install Moodle plugins in the [Moodle documentation](https://docs.moodle.org/34/en/Installing_plugins).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ae819-131">Conserver votre page de configuration du plug-in Office 365 Moodle ouvert dans un onglet de navigation distincte : vous allez renvoyer à cet ensemble de pages de ce processus.</span><span class="sxs-lookup"><span data-stu-id="ae819-131">Keep your Office 365 Moodle plugin configuration page open in a separate browser tab: you'll be returning to this set of pages throughout this process.</span></span>

<span data-ttu-id="ae819-132">Vous n’avez pas déjà un site Moodle ?</span><span class="sxs-lookup"><span data-stu-id="ae819-132">Don't have a Moodle site already?</span></span> <span data-ttu-id="ae819-133">Vous pouvez souhaiter extraire notre Moodle sur Azure [emprunteuses](https://github.com/azure/moodle) où vous pouvez rapidement déployer une instance de Moodle sur Azure et personnalisez-le à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="ae819-133">You might want to check out our Moodle on Azure [repo](https://github.com/azure/moodle) where you can quickly deploy a Moodle instance on Azure and customize it to your needs.</span></span>

## <a name="step-2-configure-the-connection-between-the-office-365-plugin-and-azure-active-directory"></a><span data-ttu-id="ae819-134">Étape 2 : Configurer la connexion entre le plug-in Office 365 et Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="ae819-134">Step 2: Configure the connection between the Office 365 plugin and Azure Active Directory</span></span>

> [!VIDEO https://www.youtube.com/embed/FpGEezaJ3SA]

<span data-ttu-id="ae819-135">Ensuite, vous devez inscrire Moodle en tant qu’application dans Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="ae819-135">Next you'll need to register Moodle as an application in your Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="ae819-136">Nous avons fourni un script PowerShell pour vous aider à effectuer cette procédure.</span><span class="sxs-lookup"><span data-stu-id="ae819-136">We've provided a PowerShell script to help you complete this process.</span></span> <span data-ttu-id="ae819-137">Le script PowerShell met en service un nouveau Azure application AD pour votre client Office 365, qui sera utilisé par le plug-in Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-137">The PowerShell script provisions a new Azure AD application for your Office 365 tenant, which will be used by the Office 365 Moodle plugin.</span></span> <span data-ttu-id="ae819-138">Le script sera mise en service de l’application pour votre client O365, configurer tous les l’URL de réponse requis et autorisations de l’application mis en service et renvoyer l’AppID et la clé.</span><span class="sxs-lookup"><span data-stu-id="ae819-138">The script will provision the app for your O365 tenant, set up all the required Reply URLs and permissions for the provisioned app, and return the AppID and Key.</span></span> <span data-ttu-id="ae819-139">Vous pouvez utiliser l’AppID et la clé générée dans votre page le programme d’installation du plug-in Moodle O365 pour configurer votre serveur Moodle avec Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ae819-139">You can use the generated AppID and Key in your O365 Moodle plugin setup page to configure your Moodle server with Azure AD.</span></span> <span data-ttu-id="ae819-140">Si vous souhaitez voir les étapes manuelles détaillées sur l’automatisation de script PowerShell, vous trouverez les dans la [documentation pour le plug-in](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application)complète.</span><span class="sxs-lookup"><span data-stu-id="ae819-140">If you want to see the detailed manual steps that the PowerShell script is automating, you can find them in the full [documentation for the plugin](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span></span>

1. <span data-ttu-id="ae819-141">Dans la page du plug-in de l’intégration de Microsoft Office 365, sélectionnez l’onglet **configuration** .</span><span class="sxs-lookup"><span data-stu-id="ae819-141">On the Microsoft Office 365 Integration plugin page, select the **Setup** tab.</span></span>
2. <span data-ttu-id="ae819-142">Cliquez sur le bouton **Télécharger un PowerShell Script** , puis enregistrez le script sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ae819-142">Click the **Download PowerShell Script** button, and save the script on your local computer.</span></span>
3. <span data-ttu-id="ae819-143">Vous devez préparer le script PowerShell à partir du fichier ZIP.</span><span class="sxs-lookup"><span data-stu-id="ae819-143">You'll need to prepare the PowerShell script from the ZIP file.</span></span> <span data-ttu-id="ae819-144">Pour ce faire :</span><span class="sxs-lookup"><span data-stu-id="ae819-144">To do this:</span></span>
    1. <span data-ttu-id="ae819-145">Téléchargez et extrayez le fichier Moodle-AzureAD-Powershell.zip.</span><span class="sxs-lookup"><span data-stu-id="ae819-145">Download and extract the Moodle-AzureAD-Powershell.zip file.</span></span>
    2. <span data-ttu-id="ae819-146">Ouvrez le dossier d’extraction.</span><span class="sxs-lookup"><span data-stu-id="ae819-146">Open the extracted folder.</span></span>
    3. <span data-ttu-id="ae819-147">Cliquez sur le fichier Moodle-AzureAD-Script.ps1, puis sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="ae819-147">Right-click the Moodle-AzureAD-Script.ps1 file, and select **Properties**.</span></span>
    4. <span data-ttu-id="ae819-148">Sous l’onglet **Général** de la fenêtre Propriétés, cochez la case **Débloquer** en regard de l’attribut de **sécurité** en bas.</span><span class="sxs-lookup"><span data-stu-id="ae819-148">On the **General** tab of the Properties window, check the **Unblock** box next to the **Security** attribute at the bottom.</span></span>
    5. <span data-ttu-id="ae819-149">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ae819-149">Click **OK**.</span></span>
    6. <span data-ttu-id="ae819-150">Copiez le chemin d’accès du répertoire du dossier extrait.</span><span class="sxs-lookup"><span data-stu-id="ae819-150">Copy the directory path of the extracted folder.</span></span>
4. <span data-ttu-id="ae819-151">Ensuite, vous allez exécuter PowerShell en tant qu’administrateur :</span><span class="sxs-lookup"><span data-stu-id="ae819-151">Next you'll run PowerShell as an administrator:</span></span>
    1. <span data-ttu-id="ae819-152">Cliquez sur Démarrer.</span><span class="sxs-lookup"><span data-stu-id="ae819-152">Click Start.</span></span>
    2. <span data-ttu-id="ae819-153">Type **PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="ae819-153">Type **PowerShell**.</span></span>
    3. <span data-ttu-id="ae819-154">Avec le bouton droit de **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="ae819-154">Right-click **Windows PowerShell**.</span></span>
    4. <span data-ttu-id="ae819-155">Cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="ae819-155">Click **Run as Administrator**.</span></span>
5. <span data-ttu-id="ae819-156">Accédez au répertoire décompressé en tapant `cd ...\...\Moodle-AzureAD-Powershell` où `...\...` est le chemin d’accès au répertoire.</span><span class="sxs-lookup"><span data-stu-id="ae819-156">Navigate to the unzipped directory by typing `cd ...\...\Moodle-AzureAD-Powershell` where `...\...` is the path to the directory.</span></span>
6. <span data-ttu-id="ae819-157">Exécutez le script PowerShell :</span><span class="sxs-lookup"><span data-stu-id="ae819-157">Execute the PowerShell script:</span></span>
    1. <span data-ttu-id="ae819-158">Entrez `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span><span class="sxs-lookup"><span data-stu-id="ae819-158">Enter `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span></span>
    2. <span data-ttu-id="ae819-159">Entrez `.\Moodle-AzureAD-Script.ps1`.</span><span class="sxs-lookup"><span data-stu-id="ae819-159">Enter `.\Moodle-AzureAD-Script.ps1`.</span></span>
    3. <span data-ttu-id="ae819-160">Connectez-vous à votre compte d’administrateur O365 dans la fenêtre contextuelle.</span><span class="sxs-lookup"><span data-stu-id="ae819-160">Sign in to your O365 administrator account in the pop-up window.</span></span>
    4. <span data-ttu-id="ae819-161">Entrez le nom de l’application Azure AD (par exemple, le **plug-in Moodle/Moodle**).</span><span class="sxs-lookup"><span data-stu-id="ae819-161">Enter the name of the Azure AD application (for example, **Moodle/Moodle plugin**).</span></span>
    5. <span data-ttu-id="ae819-162">Entrez l’URL de votre serveur Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-162">Enter the URL of your Moodle server.</span></span>
    6. <span data-ttu-id="ae819-163">Copiez **l’ID d’Application** et la **Clé d’Application** générée par le script et les enregistrer.</span><span class="sxs-lookup"><span data-stu-id="ae819-163">Copy the **Application ID** and **Application Key** generated by the script, and save them.</span></span>
7. <span data-ttu-id="ae819-164">Ensuite, vous devez ajouter l’ID et la clé pour le plug-in Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-164">Next you'll need to add the ID and key to the Office 365 Moodle plugin.</span></span> <span data-ttu-id="ae819-165">Revenir à la page d’administration du plug-in (**administration du Site** > **plug-ins** > **L’intégration de Microsoft Office 365**).</span><span class="sxs-lookup"><span data-stu-id="ae819-165">Return to the plugin administration page (**Site administration** > **Plugins** > **Microsoft Office 365 Integration**).</span></span>
8. <span data-ttu-id="ae819-166">Sous l’onglet **installation** , ajoutez **l’ID d’Application** et de la **Clé de l’Application** que vous avez copié précédemment, puis cliquez sur **Enregistrer les modifications**.</span><span class="sxs-lookup"><span data-stu-id="ae819-166">On the **Setup** tab, add the **Application ID** and **Application Key** you copied previously, and then click **Save changes**.</span></span>
9. <span data-ttu-id="ae819-167">Une fois la page est actualisée, vous devez voir une nouvelle section appelée la **méthode de connexion choisir**.</span><span class="sxs-lookup"><span data-stu-id="ae819-167">Once the page refreshes, you should see a new section called **Choose connection method**.</span></span> <span data-ttu-id="ae819-168">Cliquez sur la case à cocher **par défaut**, puis cliquez sur **Enregistrer les modifications**.</span><span class="sxs-lookup"><span data-stu-id="ae819-168">Click the check box labeled **Default**, and then click **Save changes**.</span></span>
10. <span data-ttu-id="ae819-169">Une fois la page est actualisée, vous verrez une nouvelle section appelée **Admin consentement & des informations supplémentaires**.</span><span class="sxs-lookup"><span data-stu-id="ae819-169">Once the page refreshes, you'll see a new section called **Admin consent & additional information**.</span></span>
    1. <span data-ttu-id="ae819-170">Cliquez sur le lien **Fournir d’administration consentement** , entrez vos informations d’identification d’administrateur Global de 365 Office3, puis cliquez sur **Accepter** pour accorder les autorisations.</span><span class="sxs-lookup"><span data-stu-id="ae819-170">Click the **Provide Admin Consent** link, enter your Office3 365 Global Administrator credentials, and then click **Accept** to grant the permissions.</span></span>
    2. <span data-ttu-id="ae819-171">En regard du champ **Azure AD client** , cliquez sur le bouton **détecter** .</span><span class="sxs-lookup"><span data-stu-id="ae819-171">Next to the **Azure AD Tenant** field, click the **Detect** button.</span></span>
    3. <span data-ttu-id="ae819-172">En regard **OneDrive entreprise URL**, cliquez sur le bouton **détecter** .</span><span class="sxs-lookup"><span data-stu-id="ae819-172">Next to **OneDrive for Business URL**, click the **Detect** button.</span></span>
    4. <span data-ttu-id="ae819-173">Une fois que les champs remplir, cliquez sur le bouton **Enregistrer les modifications** .</span><span class="sxs-lookup"><span data-stu-id="ae819-173">Once the fields populate, click the **Save changes** button.</span></span>
11. <span data-ttu-id="ae819-174">Cliquez sur le bouton de **mise à jour** pour vérifier l’installation, puis cliquez sur **Enregistrer les modifications**.</span><span class="sxs-lookup"><span data-stu-id="ae819-174">Click the **Update** button to verify the installation, and then click **Save changes**.</span></span>
12. <span data-ttu-id="ae819-175">Ensuite, vous devez synchroniser les utilisateurs entre votre serveur Moodle et le Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ae819-175">Next you'll need to synchronize users between your Moodle server and Azure AD.</span></span> <span data-ttu-id="ae819-176">Selon votre environnement, vous pouvez sélectionner des options différentes au cours de cette étape.</span><span class="sxs-lookup"><span data-stu-id="ae819-176">Depending on your environment, you may select different options during this stage.</span></span> <span data-ttu-id="ae819-177">Notez que la configuration que vous définissez ici s’exécutera avec chaque cron Moodle exécuter (généralement une fois par jour) pour tout synchroniser. Pour commencer :</span><span class="sxs-lookup"><span data-stu-id="ae819-177">Note that the configuration you set here will run with each Moodle cron run (typically once a day) to keep everything in sync. To get started:</span></span>
    1. <span data-ttu-id="ae819-178">Basculez vers l' **onglet Paramètres de la synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="ae819-178">Switch to the **Sync Settings tab**.</span></span>
    2. <span data-ttu-id="ae819-179">Dans la section **synchroniser les utilisateurs avec Azure AD** , activez les cases à cocher qui s’appliquent à votre environnement.</span><span class="sxs-lookup"><span data-stu-id="ae819-179">In the **Sync users with Azure AD** section, select the check boxes that apply to your environment.</span></span> <span data-ttu-id="ae819-180">En général, sélectionnez au moins :</span><span class="sxs-lookup"><span data-stu-id="ae819-180">Typically you would select at least:</span></span>
        - <span data-ttu-id="ae819-181">**Créer des comptes dans Moodle pour les utilisateurs dans Azure AD**</span><span class="sxs-lookup"><span data-stu-id="ae819-181">**Create accounts in Moodle for users in Azure AD**</span></span>
        - <span data-ttu-id="ae819-182">**Mettre à jour tous les comptes de Moodle pour les utilisateurs dans Azure AD**</span><span class="sxs-lookup"><span data-stu-id="ae819-182">**Update all accounts in Moodle for users in Azure AD**</span></span>
    3. <span data-ttu-id="ae819-183">Dans la section **Restriction de création d’utilisateur** , vous pouvez configurer un filtre pour limiter les utilisateurs Azure AD qui seront synchronisés avec Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-183">In the **User Creation Restriction** section, you can set up a filter to limit the Azure AD users that will be synced to Moodle.</span></span>
    4. <span data-ttu-id="ae819-184">La section **Mappage de champ utilisateur** vous autorisera à personnaliser Azure AD pour le mappage du champ Moodle profil d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ae819-184">The **User Field Mapping** section will allow you to customize the Azure AD to Moodle User Profile field mapping.</span></span>
    5. <span data-ttu-id="ae819-185">Dans la section **Synchronisation des équipes** , vous pouvez choisir de créer automatiquement des groupes (autrement dit, les équipes) pour tout ou partie des cours Moodle existants.</span><span class="sxs-lookup"><span data-stu-id="ae819-185">In the **Teams Sync** section you can choose to automatically create groups (that is, teams) for some or all of your existing Moodle courses.</span></span>
13. <span data-ttu-id="ae819-186">Pour valider les travaux cron (et les exécuter manuellement si vous le souhaitez, pour la première exécution), cliquez sur le lien de la **page de gestion des tâches planifiées** dans la section **synchroniser les utilisateurs avec Azure AD** .</span><span class="sxs-lookup"><span data-stu-id="ae819-186">To validate the cron jobs (and run them manually if you wish to for the first run), click the **Scheduled tasks management page** link in the **Sync users with Azure AD** section.</span></span> <span data-ttu-id="ae819-187">Cela vous dirige vers la page **Tâches planifiées** .</span><span class="sxs-lookup"><span data-stu-id="ae819-187">This will take you to the **Scheduled Tasks** page.</span></span>
    1. <span data-ttu-id="ae819-188">Faites défiler vers le bas et recherchez le travail de **synchronisation des utilisateurs avec Azure AD** de travail et cliquez sur **Exécuter maintenant**.</span><span class="sxs-lookup"><span data-stu-id="ae819-188">Scroll down and find the job **Sync users with Azure AD** job, and click **Run now**.</span></span>
    2. <span data-ttu-id="ae819-189">Si vous avez choisi de créer des groupes en fonction des cours existants, vous pouvez également exécuter la tâche **créer les groupes d’utilisateurs dans Office 365** .</span><span class="sxs-lookup"><span data-stu-id="ae819-189">If you chose to create groups based on existing courses, you can also run the **Create user groups in Office 365** job.</span></span>
14. <span data-ttu-id="ae819-190">Revenir à la page d’administration du plug-in (**administration du Site** > **plug-ins** > **L’intégration de Microsoft Office 365**), puis sélectionnez la page **Paramètres d’équipes** .</span><span class="sxs-lookup"><span data-stu-id="ae819-190">Return to the plugin administration page (**Site administration** > **Plugins** > **Microsoft Office 365 Integration**) and select the **Teams Settings** page.</span></span> <span data-ttu-id="ae819-191">Vous devez configurer certains paramètres de sécurité pour activer l’intégration de l’application équipes.</span><span class="sxs-lookup"><span data-stu-id="ae819-191">You'll need to configure some security settings to enable the Teams app integration.</span></span>
    1. <span data-ttu-id="ae819-192">Pour activer la OpenID se connecter, cliquez sur le lien **Gérer l’authentification** , cliquez sur l’icône de œil sur la ligne **OpenId se connecter** si elle est estompé.</span><span class="sxs-lookup"><span data-stu-id="ae819-192">To enable OpenID Connect, click the **Manage Authentication** link, and click the eye icon on the **OpenId Connect** line if it is dimmed.</span></span>
    2. <span data-ttu-id="ae819-193">Pour activer l’incorporation de cadre, cliquez sur le lien de **Sécurité HTTP** , puis activez la case à cocher en regard de **l’incorporation de cadre autoriser**.</span><span class="sxs-lookup"><span data-stu-id="ae819-193">To enable frame embedding, click the **HTTP Security** link, and then select the check box next to **Allow frame embedding**.</span></span>
    3. <span data-ttu-id="ae819-194">Activer les services web (qui activera les fonctionnalités de l’API Moodle).</span><span class="sxs-lookup"><span data-stu-id="ae819-194">Enable web services (which will enable the Moodle API features).</span></span> <span data-ttu-id="ae819-195">Cliquez sur le lien de **Fonctionnalités avancées** , puis assurez-vous que la case à cocher en regard **d’activer des services web** est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="ae819-195">Click the **Advanced Features** link, and then make sure the check box next to **Enable web services** is selected.</span></span>
    4. <span data-ttu-id="ae819-196">Activer les services externes pour Office 365.</span><span class="sxs-lookup"><span data-stu-id="ae819-196">Enable the external services for Office 365.</span></span> <span data-ttu-id="ae819-197">Cliquez sur le lien **des services externes** , puis :</span><span class="sxs-lookup"><span data-stu-id="ae819-197">Click the **External services** link, and then:</span></span>
        1. <span data-ttu-id="ae819-198">Sur la ligne **Moodle Office 365 Webservices** , cliquez sur **Modifier** .</span><span class="sxs-lookup"><span data-stu-id="ae819-198">Click **Edit** on the **Moodle Office 365 Webservices** row.</span></span>
        2. <span data-ttu-id="ae819-199">Activez la case à cocher **activé**, puis cliquez sur **Enregistrer les modifications**</span><span class="sxs-lookup"><span data-stu-id="ae819-199">Select the check box next to **Enabled**, and then click **Save Changes**</span></span>
    5. <span data-ttu-id="ae819-200">Enfin, vous devez modifier vos autorisations utilisateur authentifié pour permettre aux utilisateurs de créer des jetons de service web.</span><span class="sxs-lookup"><span data-stu-id="ae819-200">Finally, you need to edit your authenticated user permissions to allow users to create web service tokens.</span></span> <span data-ttu-id="ae819-201">Cliquez sur le lien de **l’utilisateur authentifié de rôle modification** .</span><span class="sxs-lookup"><span data-stu-id="ae819-201">Click the **Editing role Authenticated user** link.</span></span> <span data-ttu-id="ae819-202">Faites défiler vers le bas et recherchez la possibilité de **créer un jeton de service web** et activez la case à cocher **Autoriser** .</span><span class="sxs-lookup"><span data-stu-id="ae819-202">Scroll down and find the **Create a web service token** capability, and select the **Allow** check box.</span></span>

## <a name="step-3-deploy-the-moodle-assistant-bot-to-azure"></a><span data-ttu-id="ae819-203">Étape 3 : Déployer le composant WebBot Moodle Assistant dans Azure</span><span class="sxs-lookup"><span data-stu-id="ae819-203">Step 3: Deploy the Moodle Assistant Bot to Azure</span></span>

> [!VIDEO https://www.youtube.com/embed/gbkJxf8FlfY]

<span data-ttu-id="ae819-204">Le robot Assistant Moodle gratuite pour Microsoft Teams aide enseignants et étudiants à répondre aux questions sur leurs cours, affectations, notes et d’autres informations dans Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-204">The free Moodle Assistant Bot for Microsoft Teams helps teachers and students answer questions about their courses, assignments, grades, and other information in Moodle.</span></span> <span data-ttu-id="ae819-205">Le composant WebBot envoie également Moodle notifications aux étudiants et enseignants droit au sein des équipes.</span><span class="sxs-lookup"><span data-stu-id="ae819-205">The bot also sends Moodle notifications to students and teachers right within Teams.</span></span> <span data-ttu-id="ae819-206">Cet outil est un projet open source mis à jour par Microsoft et est [disponible sur les référentiels](https://github.com/microsoft/Moodle-Teams-Bot).</span><span class="sxs-lookup"><span data-stu-id="ae819-206">This bot is an open source project maintained by Microsoft and is [available on GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span></span>

> [!NOTE]
<span data-ttu-id="ae819-207">.</span><span class="sxs-lookup"><span data-stu-id="ae819-207"></span></span> <span data-ttu-id="ae819-208">Dans cette section vous allez déployer les ressources à votre abonnement Azure et toutes les ressources vont être configurés à l’aide de la couche libre.</span><span class="sxs-lookup"><span data-stu-id="ae819-208">In this section you will deploy resources to your Azure subscription, and all resources will be configured using the free tier.</span></span> <span data-ttu-id="ae819-209">En fonction de l’utilisation de votre robot, vous devrez peut-être mettre ces ressources à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="ae819-209">Depending on the usage of your bot, you may need to scale these resources.</span></span> <span data-ttu-id="ae819-210">Si vous souhaitez simplement utiliser l’onglet Moodle sans le composant WebBot, passez à [l’étape 4](#step-4-deploy-your-microsoft-teams-app).</span><span class="sxs-lookup"><span data-stu-id="ae819-210">If you want to just use the Moodle tab without the bot, skip to [step 4](#step-4-deploy-your-microsoft-teams-app).</span></span>

### <a name="moodle-bot-information-flow"></a><span data-ttu-id="ae819-211">Flux d’informations Moodle bot</span><span class="sxs-lookup"><span data-stu-id="ae819-211">Moodle bot information flow</span></span>

<span data-ttu-id="ae819-212">Pour installer le composant WebBot, vous devez l’enregistrer sur la [Plateforme d’identité Microsoft](https://identity.microsoft.com/Landing).</span><span class="sxs-lookup"><span data-stu-id="ae819-212">To install the bot, you'll need to register it on the [Microsoft Identity Platform](https://identity.microsoft.com/Landing).</span></span> <span data-ttu-id="ae819-213">Cela permet à votre robot pour s’authentifier auprès de vos points de terminaison de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ae819-213">This allows your bot to authenticate with your Microsoft endpoints.</span></span> <span data-ttu-id="ae819-214">Pour enregistrer votre robot :</span><span class="sxs-lookup"><span data-stu-id="ae819-214">To register your bot:</span></span>

1. <span data-ttu-id="ae819-215">Revenir à la page d’administration du plug-in (**administration du Site** > **plug-ins** > **L’intégration de Microsoft Office 365**), puis sélectionnez l’onglet **Paramètres des équipes** .</span><span class="sxs-lookup"><span data-stu-id="ae819-215">Return to the plugin administration page (**Site administration** > **Plugins** > **Microsoft Office 365 Integration**) and select the **Teams Settings** tab.</span></span>
2. <span data-ttu-id="ae819-216">Cliquez sur le lien du **Portail de l’inscription d’Application Microsoft** et la connexion avec votre ID. Microsoft</span><span class="sxs-lookup"><span data-stu-id="ae819-216">Click the **Microsoft Application Registration Portal** link and sign in with your Microsoft ID.</span></span>
3. <span data-ttu-id="ae819-217">Entrez un nom pour l’application (par exemple, MoodleBot), cliquez sur le bouton **créer** .</span><span class="sxs-lookup"><span data-stu-id="ae819-217">Enter a name for you app (for example, MoodleBot) and click the **Create** button.</span></span>
4. <span data-ttu-id="ae819-218">Copiez l' **ID de l’Application** et collez-le dans le champ **ID d’Application du robot** , dans la page **Paramètres de l’équipe** .</span><span class="sxs-lookup"><span data-stu-id="ae819-218">Copy the **Application ID** and paste it into the **Bot Application ID** field on the **Team Settings** page.</span></span>
5. <span data-ttu-id="ae819-219">Cliquez sur le bouton **Générer un nouveau mot de passe** .</span><span class="sxs-lookup"><span data-stu-id="ae819-219">Click the **Generate New Password** button.</span></span> <span data-ttu-id="ae819-220">Copiez le mot de passe généré et collez-le dans le champ **Mot de passe Bot Application** dans la page **Paramètres de l’équipe** .</span><span class="sxs-lookup"><span data-stu-id="ae819-220">Copy the generated password and paste it into the **Bot Application Password** field on the **Team Settings** page.</span></span>
6. <span data-ttu-id="ae819-221">Faites défiler vers le bas du formulaire, cliquez sur **Enregistrer les modifications**.</span><span class="sxs-lookup"><span data-stu-id="ae819-221">Scroll to the bottom of the form and click **Save Changes**.</span></span>

<span data-ttu-id="ae819-222">Maintenant que vous avez généré votre ID d’application et le mot de passe, il est temps de déployer votre robot sur Azure.</span><span class="sxs-lookup"><span data-stu-id="ae819-222">Now that you've generated your application ID and password, it's time to deploy your bot to Azure.</span></span> <span data-ttu-id="ae819-223">Cliquez sur le bouton **déployer vers Azure** et remplissez le formulaire avec les informations nécessaires (l’ID de robot et le mot de passe sont dans la page **Paramètres de l’équipe** , et les informations Azure sont dans la page **installation** ).</span><span class="sxs-lookup"><span data-stu-id="ae819-223">Click the **Deploy to Azure** button and complete the form with the necessary information (the bot ID and password are on the **Team Settings** page, and the Azure information is on the **Setup** page).</span></span> <span data-ttu-id="ae819-224">Une fois le formulaire rempli, cliquez sur la case à cocher pour accepter les termes du contrat, puis cliquez sur le bouton **achat** (toutes les ressources Azure sont déployés dans la couche libre).</span><span class="sxs-lookup"><span data-stu-id="ae819-224">Once you have the form filled out, click the check box to agree to the terms and conditions, and then click the **Purchase** button (all Azure resources are deployed to the free tier).</span></span>

<span data-ttu-id="ae819-225">Une fois que les ressources sont terminées déployer sur Azure, vous devez configurer le plug-in Office 365 Moodle avec son point de terminaison de messagerie.</span><span class="sxs-lookup"><span data-stu-id="ae819-225">After the resources are finished deploying to Azure, you'll need to configure the Office 365 Moodle plugin with its messaging endpoint.</span></span> <span data-ttu-id="ae819-226">Tout d’abord, vous devez obtenir le point de terminaison à partir de votre robot dans Azure.</span><span class="sxs-lookup"><span data-stu-id="ae819-226">First, you'll need to get the endpoint from your bot in Azure.</span></span> <span data-ttu-id="ae819-227">Pour ce faire :</span><span class="sxs-lookup"><span data-stu-id="ae819-227">To do this:</span></span>

1. <span data-ttu-id="ae819-228">Si vous n’êtes pas déjà connecté, connectez-vous au [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="ae819-228">If you aren't signed in already, sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="ae819-229">Dans le volet gauche, sélectionnez les **groupes de ressources**.</span><span class="sxs-lookup"><span data-stu-id="ae819-229">In the left pane, select **Resource groups**.</span></span>
3. <span data-ttu-id="ae819-230">Dans la liste, sélectionnez le groupe de ressources vous venez utilisé (ou créé) lors du déploiement de votre robot.</span><span class="sxs-lookup"><span data-stu-id="ae819-230">From the list, select the resource group you just used (or created) while deploying your bot.</span></span>
4. <span data-ttu-id="ae819-231">Sélectionnez la ressource **WebApp robot** de la liste des ressources dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="ae819-231">Select the **WebApp Bot** resource from the list of resources in the group.</span></span>
5. <span data-ttu-id="ae819-232">Copiez **Point de terminaison de la messagerie** à partir de la section **vue d’ensemble** .</span><span class="sxs-lookup"><span data-stu-id="ae819-232">Copy the **Messaging Endpoint** from the **Overview** section.</span></span>
6. <span data-ttu-id="ae819-233">Dans Moodle, ouvrez la page **Paramètres de l’équipe** de votre plug-in Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-233">In Moodle, open the **Team Settings** page of your Office 365 Moodle plugin.</span></span>
7. <span data-ttu-id="ae819-234">Dans le champ de **Point de terminaison de robot** , collez l’URL que vous venez de copier et modifier les *messages* de word à *webhook*.</span><span class="sxs-lookup"><span data-stu-id="ae819-234">In the **Bot Endpoint** field, paste the URL you just copied, and change the word *messages* to *webhook*.</span></span> <span data-ttu-id="ae819-235">L’URL doit maintenant ressembler à ceci : `https://botname.azurewebsites.net/api/webhook`.</span><span class="sxs-lookup"><span data-stu-id="ae819-235">The URL should now look like this: `https://botname.azurewebsites.net/api/webhook`.</span></span>
8. <span data-ttu-id="ae819-236">Cliquez sur **Enregistrer les modifications**.</span><span class="sxs-lookup"><span data-stu-id="ae819-236">Click **Save Changes**.</span></span>
9. <span data-ttu-id="ae819-237">Une fois vos modifications sont enregistrées, retournez dans l’onglet **Paramètres de l’équipe** , cliquez sur le bouton **Télécharger le fichier manifest** et enregistrer le package manifest sur votre ordinateur (vous devez l’utiliser dans l’étape suivante).</span><span class="sxs-lookup"><span data-stu-id="ae819-237">Once your changes are saved, go back to the **Team Settings** tab, click the **Download manifest file** button, and save the manifest package on your computer (you'll use it in the next step).</span></span>

## <a name="step-4-deploy-your-microsoft-teams-app"></a><span data-ttu-id="ae819-238">Étape 4 : Déploiement de votre application les équipes Microsoft</span><span class="sxs-lookup"><span data-stu-id="ae819-238">Step 4: Deploy your Microsoft Teams app</span></span>

> [!VIDEO https://www.youtube.com/embed/2rMb7gtM_ZM]

<span data-ttu-id="ae819-239">Maintenant que vous avez déployé votre robot dans Azure et configuré pour communiquer avec votre serveur Moodle, il est temps de déployer votre application Teams Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ae819-239">Now that you have deployed your bot in Azure and configured it to talk to your Moodle server, it's time to deploy your Microsoft Teams app.</span></span> <span data-ttu-id="ae819-240">Pour ce faire, vous devez charger le fichier manifeste que vous avez téléchargé à partir de la page de **Paramètres de l’équipe** du plug-in Office 365 Moodle à l’étape précédente.</span><span class="sxs-lookup"><span data-stu-id="ae819-240">To do this you'll load the manifest file you downloaded from the Office 365 Moodle plugin **Team Settings** page in the previous step.</span></span>

<span data-ttu-id="ae819-241">Avant de pouvoir installer l’application, vous devez vous assurer que les applications externes et chargement de version test des applications est activée.</span><span class="sxs-lookup"><span data-stu-id="ae819-241">Before you can install the app, you'll need to make sure that external apps and sideloading of apps is enabled.</span></span> <span data-ttu-id="ae819-242">Pour ce faire, procédez comme [suit](https://docs.microsoft.com/en-us/MicrosoftTeams/admin-settings).</span><span class="sxs-lookup"><span data-stu-id="ae819-242">To do this, follow [these steps](https://docs.microsoft.com/en-us/MicrosoftTeams/admin-settings).</span></span> <span data-ttu-id="ae819-243">Une fois que vous avez vérifié que les applications externes sont activées, suivez les étapes ci-dessous pour déployer votre application.</span><span class="sxs-lookup"><span data-stu-id="ae819-243">Once you've ensured that external apps are enabled, follow the steps below to deploy your app.</span></span>

1. <span data-ttu-id="ae819-244">Ouvrez les équipes Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ae819-244">Open Microsoft Teams.</span></span>
2. <span data-ttu-id="ae819-245">Cliquez sur l’icône de la **banque** dans le coin inférieur gauche de la barre de navigation.</span><span class="sxs-lookup"><span data-stu-id="ae819-245">Click the **Store** icon on the lower-left of the navigation bar.</span></span>
3. <span data-ttu-id="ae819-246">Cliquez sur le lien **télécharger une application personnalisée** à partir de la liste d’options.</span><span class="sxs-lookup"><span data-stu-id="ae819-246">Click the **Upload a custom app** link from the list of options.</span></span> 
   > [!NOTE]
   > <span data-ttu-id="ae819-247">Si vous êtes connecté en tant qu’administrateur global, vous aurez la possibilité de téléchargement de l’application dans le magasin d’applications de votre organisation ; dans le cas contraire vous seulement pourrez charger l’application pour les équipes, vous êtes un composant de (*chargement de version test*).</span><span class="sxs-lookup"><span data-stu-id="ae819-247">If you're signed in as a global administrator, you'll have the option of uploading the app to your organization's app store; otherwise you'll only be able to load the app for the teams you're a part of (*sideloading*).</span></span>
4. <span data-ttu-id="ae819-248">Sélectionnez le package de manifest.zip que vous avez téléchargé précédemment, puis cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="ae819-248">Select the manifest.zip package you downloaded previously, and click **Save**.</span></span> <span data-ttu-id="ae819-249">Si vous n’avez pas encore téléchargé le package de manifeste, vous pouvez le faire à partir de l’onglet **Paramètres de l’équipe** de la page de configuration du plug-in dans Moodle.</span><span class="sxs-lookup"><span data-stu-id="ae819-249">If you haven't yet downloaded the manifest package, you can do so from the **Team Settings** tab of the plugin configuration page in Moodle.</span></span>

<span data-ttu-id="ae819-250">Maintenant que vous disposez de l’application installée, vous pouvez ajouter l’onglet à n’importe quelle chaîne que vous avez accès à.</span><span class="sxs-lookup"><span data-stu-id="ae819-250">Now that you have the app installed, you can add the tab to any channel that you have access to.</span></span> <span data-ttu-id="ae819-251">Pour ce faire, accédez à la chaîne, cliquez sur le **+** symbole, puis sélectionnez votre application dans la liste.</span><span class="sxs-lookup"><span data-stu-id="ae819-251">To do this, navigate to the channel, click the **+** symbol, and select your app from the list.</span></span> <span data-ttu-id="ae819-252">Suivez les invites pour terminer l’ajout de l’onglet de cours Moodle à un canal.</span><span class="sxs-lookup"><span data-stu-id="ae819-252">Follow the prompts to finish adding your Moodle course tab to a channel.</span></span>

<span data-ttu-id="ae819-253">Voilà !</span><span class="sxs-lookup"><span data-stu-id="ae819-253">That's it!</span></span> <span data-ttu-id="ae819-254">Vous et votre équipe, maintenant commencer à travailler avec vos cours Moodle directement à partir de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="ae819-254">You and your team, can now start working with your Moodle courses directly from Microsoft Teams.</span></span>

<span data-ttu-id="ae819-255">Pour partager toutes les demandes de fonctionnalité nous ou fournissez des commentaires, visitez notre [page vocale de l’utilisateur](https://microsoftteams.uservoice.com/forums/916759-moodle).</span><span class="sxs-lookup"><span data-stu-id="ae819-255">To share any feature requests with us or provide feedback, please visit our [User Voice page](https://microsoftteams.uservoice.com/forums/916759-moodle).</span></span>